#!/usr/bin/env ruby

require 'smartcloud'

if ARGV[0] == 'start'
	print "Enter your domain name pointing to this server without any subdomain (Eg: example.com): "
	domain_name = STDIN.gets.chomp
	print "Enter admin email: "
	admin_email = STDIN.gets.chomp
	apps_root = File.expand_path("~/apps")
	print "Enter path where apps should be stored (default: #{apps_root}): "
	apps_root_entered = STDIN.gets.chomp
	apps_root = File.expand_path(apps_root_entered) unless apps_root_entered.empty?
	puts apps_root
elsif ARGV[0] == 'docker'
	if ARGV[1] == 'install'
		Smartcloud::Docker.install
	elsif ARGV[1] == 'uninstall'
		Smartcloud::Docker.uninstall
	end
elsif ARGV[0] == 'grids'
	if ARGV[1] == 'git'
		if ARGV[2] == 'start'
			Smartcloud::Grids::Git.start
		elsif ARGV[2] == 'stop'
			Smartcloud::Grids::Git.stop
		end
	elsif ARGV[1] == 'nginx'
		if ARGV[2] == 'start'
			Smartcloud::Grids::Nginx.start
		elsif ARGV[2] == 'stop'
			Smartcloud::Grids::Nginx.stop
		end
	elsif ARGV[1] == 'solr'
		if ARGV[2] == 'start'
			Smartcloud::Grids::Solr.start
		elsif ARGV[2] == 'stop'
			Smartcloud::Grids::Solr.stop
		elsif ARGV[2] == 'create_core'
			Smartcloud::Grids::Solr.create_core(ARGV[3])
		elsif ARGV[2] == 'destroy_core'
			Smartcloud::Grids::Solr.destroy_core(ARGV[3])
		end
	end
end
